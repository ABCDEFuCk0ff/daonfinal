<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>단어장</title>
    <link rel="stylesheet" href="style.css">
    <script>
        if (!localStorage.getItem('isLoggedIn') && !localStorage.getItem('isGuest')) {
            window.location.href = 'index.html';
        }
    </script>
    <script>
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark-mode');
        }
    </script>
</head>
<body class="wordbook-page">
    <div id="toast" class="toast top"></div>
    <main>
        <header class="page-header">
            <h1>단어장</h1>
        </header>
        
        <div class="wordbook-content">
        <section class="learning-section">
            <h2>국어·논술</h2>
            <div class="novel-grid" style="grid-template-columns: repeat(2, 1fr); margin-top: 10px;">
                <a href="word_list.html" class="novel-button">논리적 사고와 분석</a>
                <a href="argument_critical_thinking.html" class="novel-button">논증과 비판적 사고</a>
                <a href="inquiry_essay_report.html" class="novel-button">탐구·논술·보고서 핵심</a>
            </div>
        </section>

        <section class="learning-section">
            <h2>사회·윤리</h2>
            <div class="novel-grid" style="grid-template-columns: repeat(2, 1fr); margin-top: 10px;">
                <a href="social_political_system.html" class="novel-button">사회·정치 체계</a>
                <a href="social_interaction_creativity.html" class="novel-button">사회적 상호작용과 창의</a>
                <a href="modern_social_issues.html" class="novel-button">현대 사회 문제</a>
            </div>
        </section>

        <section class="learning-section">
            <h2>수학·과학</h2>
            <div class="novel-grid" style="grid-template-columns: repeat(2, 1fr); margin-top: 10px;">
                <a href="earth_physics_list.html" class="novel-button">지구·물리 기본 개념</a>
                <a href="basic_math_concepts.html" class="novel-button">기초 수학 개념</a>
                <a href="math_concepts.html" class="novel-button">수학 개념</a>
            </div>
        </section>

        <section class="learning-section">
            <h2>학교생활</h2>
            <div class="novel-grid" style="grid-template-columns: repeat(2, 1fr); margin-top: 10px;">
                <a href="korean_education_terms.html" class="novel-button">한국 교육 제도·입시 용어</a>
            </div>
        </section>
        </div>
    </main>

    <nav class="bottom-nav">
        <a href="learning.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
            학습
        </a>
        <a href="analysis.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
            분석
        </a>
        <a href="wordbook.html" class="active">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
            단어장
        </a>
        <a href="quiz.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
            퀴즈
        </a>
        <a href="my-page.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
            MY
        </a>
    </nav>

    <script>
        const toast = document.getElementById('toast');

        // body에 dark-mode 클래스 적용
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
        }

        function showToast(message, type = 'success') {
            toast.textContent = message;
            toast.className = 'toast top'; 
            toast.classList.add(type);
            toast.classList.add("show");
            setTimeout(() => { toast.classList.remove("show"); }, 1000);
        }

        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case '1': window.location.href = 'learning.html'; break;
                case '2': window.location.href = 'analysis.html'; break;
                case '3': window.location.href = 'wordbook.html'; break;
                case '4': window.location.href = 'quiz.html'; break;
                case '5': window.location.href = 'my-page.html'; break;
            }
        });

        // 언어 표시 기능
        const selectedLang = localStorage.getItem('selectedLanguage') || '한국어';
        const langDisplay = document.createElement('div');
        langDisplay.className = 'language-display';
        langDisplay.textContent = selectedLang;
        langDisplay.style.bottom = '80px';
        
        document.body.appendChild(langDisplay);

        // 학습 완료 상태 확인 및 버튼 스타일 적용
        const wordDatabase = {
            "논리적 사고와 분석": ["귀납", "연역", "유추", "전제", "결론", "역설", "반어", "풍자", "해학", "비판", "분석", "해석", "관점", "비평", "통찰"], 
            "논증과 비판적 사고": ["주장", "근거", "논리", "비판", "평가", "개선", "지속", "가능성", "확률", "적응", "다양성", "개성", "정체성", "문화적", "글로벌", "국제", "세계", "평화", "전쟁", "인권"],
            "탐구·논술·보고서 핵심": ["예방", "구조", "신뢰", "서술", "서론", "본론", "결론", "인용", "참고문헌", "논증", "가설", "증명", "추론", "해석", "관찰력", "통찰", "경쟁", "입시", "대학", "꿈"],
            "사회·정치 체계": ["국민", "정부", "대통령", "국회", "법", "권리", "의무", "자유", "평등", "민주주의", "문화", "전통", "역사", "과거", "현재", "미래", "산업", "경제", "직업", "진로"],
            "사회적 상호작용과 창의": ["도덕성", "책임", "존중", "배려", "협력", "갈등", "해결", "소통", "표현", "창의", "창의력", "상상", "아이디어", "연구", "실험", "관찰", "조사", "자료", "증거", "사실"],
            "현대 사회 문제": ["차별", "불평등", "빈곤", "소비", "생산", "무역", "기술", "혁신", "정보", "데이터", "미디어", "광고", "영향력", "대중", "사회", "공동체", "규칙", "질서", "안전", "위험"],
            "지구·물리 기본 개념": ["지구", "기후", "온난화", "에너지", "빛", "소리", "힘", "운동", "속도", "거리", "무게", "양"],
            "기초 수학 개념": ["자연수", "정수", "짝수", "홀수", "덧셈", "뺄셈", "곱셈", "나눗셈", "몫", "나머지", "분수", "진분수", "약분", "통분", "소수", "백분율", "도형", "직선", "선분", "각"],
            "수학 개념": ["실수", "무리수", "제곱근", "소인수분해", "최대공약수", "최소공배수", "일차방정식", "이차방정식", "인수분해", "함수", "일차함수", "이차함수", "지수함수", "로그함수", "삼각함수", "수열", "등차수열", "등비수열", "미분", "적분"],
            "한국 교육 제도·입시 용어": ["자습", "모의고사", "EBS", "재수", "수학여행", "개강", "개학", "종례", "조회", "학사일정", "생활기록부", "자기소개서", "비교과", "동아리", "진로진학상담", "수시", "정시", "창체", "학점제", "늘봄학교"]
        };

        const completedList = JSON.parse(localStorage.getItem('learning_completed')) || [];
        const learnedTitles = completedList.map(item => (typeof item === 'string' ? item : item.title));
        
        const buttons = document.querySelectorAll('.novel-button');

        buttons.forEach(btn => {
            const topic = btn.textContent.trim();
            const topicWords = wordDatabase[topic];
            
            // 해당 주제의 단어가 존재하고(length > 0), 모든 단어가 학습 완료된 목록에 있는지 확인
            if (topicWords && topicWords.length > 0 && topicWords.every(word => learnedTitles.includes(word))) {
                btn.classList.add('completed');
            }
        });
    </script>
</body>
</html>