<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전체 단어 목록</title>
    <link rel="stylesheet" href="style.css">
    <script>
        if (!localStorage.getItem('isLoggedIn')) {
            window.location.href = 'index.html';
        }
    </script>
    <script>
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark-mode');
        }
    </script>
</head>
<body>
    <a href="my-page.html" class="back-button">←</a>
    <main>
        <div class="page-header">
            <h1>전체 단어 목록</h1>
        </div>
        
        <div class="learning-section">
            <div id="word-list-container" class="all-word-list">
                <!-- 자바스크립트로 단어 목록이 생성됩니다 -->
            </div>
        </div>
    </main>

    <nav class="bottom-nav">
        <a href="learning.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
            학습
        </a>
        <a href="analysis.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
            분석
        </a>
        <a href="wordbook.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
            단어장
        </a>
        <a href="quiz.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
            퀴즈
        </a>
        <a href="my-page.html" class="active">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
            MY
        </a>
    </nav>

    <script>
        // body에 dark-mode 클래스 적용
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
        }

        // word_data.js에서 wordDatabase를 가져와 사용
        const container = document.getElementById('word-list-container');

        // 데이터베이스를 순회하며 목록 생성
        for (const [topic, words] of Object.entries(wordDatabase)) {
            const groupDiv = document.createElement('div');
            groupDiv.className = 'word-group';
            
            // 단어 배열을 쉼표로 구분된 문자열로 변환
            const wordListString = words.join(', ');
            
            groupDiv.innerHTML = `<h3>${topic}</h3><p>${wordListString}</p>`;
            container.appendChild(groupDiv);
        }
    </script>
    <script src="word_data.js"></script>
</body>
</html>